<!--page for uploading excel files
    or at least the page connecting those -->
{% extends "generic.html" %}
{% load staticfiles%}

{% block content %}
<link rel="stylesheet" href="{% static '/css/upload.css' %}" />
<h1>UPLOAD DATA</h1>
<form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <a class="nav-block" href="{% static 'download-template.xlsx' %}">
            <p class="nav-block__title"> Download Template</p>
    </a>
    {% for field in form %}
      <p class="form-title">{{ field.label }}</p>
      {% for error in field.errors %}
        {% if error != 'This field is required.' %}
          <p class="form-error">{{ error }}</p>
        {% endif %}
      {% endfor%}
      {{ field }}
    {% endfor %}
    <br><br>
    <input class="nav-block" type="submit" value="Submit"/>
</form>

<div>
<h3>{{upload_status}}</h3>
  {% for i in summary %}
    <p>
    {% for f in i %}
      {{f}}
    {% endfor %}
    </p>
  {% endfor %}
</div>
{% endblock %}